单卡训练很慢，模型权重和激活值可能存不下，多卡训练的时候，由于权重和激活值，



大模型  搜推+大模型+芯片



MapReduce是指一种用于处理和生成大型数据集的编程模型，它通过将数据分割成小块并在多台机器上并行处理来简化数据处理。具体来说，MapReduce由两个主要阶段组成：Map和Reduce。

- **Map阶段**：在这个阶段，输入数据被分割成小块，每一块由一个Map任务处理。Map任务对数据进行处理，生成中间键值对，并以<key, value>的形式输出。这些中间结果会被进一步处理，以便于Reduce阶段的聚合操作。
- **Reduce阶段**：Reduce任务接收Map阶段生成的中间结果，并根据key值进行排序和分组，然后对具有相同key的value进行合并和处理，最终生成最终结果。







* 广告系统是为了展示相关广告，提高点击率和转化率；推荐系统是根据用户兴趣推荐内容，比如视频、商品；搜索则是根据用户查询返回最相关的结果

* 



主动方：

被动方：

交叉方：



ssh -i ~/.ssh/jumpserver -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedKeyTypes=+ssh-rsa huangyuwei@kanzhun.com@jumpserver -p 13123





###  ps-train代码框架

入口在train.cc 先接受从命令行传入参数，开始会先进入训练或评估模式，评估是用训练好的模型对新数据进行预测或评估性能的过程，验证模型的效果或进行推理

将命令行参数传入 等开始训练，根据optimizer传入的数据来启动不同模式，同步、异步、id_异步，预测模式（预测模式不训练，使用已有的模型对输入数据进行推理或评估，加载模型、前向传播、输出预测结果等）

同步收敛性好，但所有节点同步更新参数，效率低。

异步，什么情况下异步训练影响小，能不能分阶段，一部分步骤同步，一部分异步。混合训练。

id异步训练，和异步训练有什么区别？为啥有它存在的价值

然后进去同步训练，一共会经过三个过程，预处理、训练、后处理



破除其余的 不用关键词搜索 只需要完整的语义理解

bucket里面存的是不同feature和feature不同的特征值对应的embedding

slot特征code  code的前n位

step_uuid是用来保证同步的    uuid是同一次训练一样  其实就是步数

triton算子

2.5版本的torch

qps：每秒查询数

auc

